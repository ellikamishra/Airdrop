{"code":"(this.webpackJsonpmydao=this.webpackJsonpmydao||[]).push([[1],{162:function(e,t,n){},168:function(e,t){},216:function(e,t){},242:function(e,t,n){\"use strict\";n.r(t);var r=n(0),c=n.n(r),s=n(140),o=n.n(s),a=(n(162),n(85)),i=n(59),l=n(4),d=n.n(l),u=n(26),b=n(99),j=n(141),p=n(67),h=n(19),f=new j.a(\"rinkeby\"),O=f.getBundleDropModule(\"0xA147969A02B7Ab46364E8399aeb3396Ad0a6134a\"),m=f.getTokenModule(\"0x3418AA364aAddbFF91Ed0d74D415C4c4D2Fe6324\"),x=f.getVoteModule(\"0x449bABD357d84a7Fe3FFe3D6182f9439BdeCbd6A\"),v=function(){var e=Object(b.b)(),t=e.connectWallet,n=e.address,c=e.error,s=e.provider;console.log(\"\\ud83d\\udc4b Address:\",n);var o=s?s.getSigner():void 0,l=Object(r.useState)(!1),j=Object(i.a)(l,2),v=j[0],g=j[1],y=Object(r.useState)(!1),k=Object(i.a)(y,2),A=k[0],w=k[1],M=Object(r.useState)({}),I=Object(i.a)(M,2),S=I[0],C=I[1],E=Object(r.useState)([]),F=Object(i.a)(E,2),N=F[0],T=F[1],D=Object(r.useState)([]),B=Object(i.a)(D,2),P=B[0],V=(B[1],Object(r.useState)(!1)),R=Object(i.a)(V,2),J=R[0],K=R[1],L=Object(r.useState)(!1),W=Object(i.a)(L,2),H=W[0],U=W[1];Object(r.useEffect)((function(){v&&O.getAllClaimerAddresses(\"0\").then((function(e){console.log(\"\\ud83d\\ude80 Members addresses\",e),T(e)})).catch((function(e){console.error(\"failed to get member list\",e)}))}),[v]),Object(r.useEffect)((function(){v&&m.getAllHolderBalances().then((function(e){console.log(\"\\ud83d\\udc5c Amounts\",e),C(e)})).catch((function(e){console.error(\"failed to get token amounts\",e)}))}),[v]);var Y=Object(r.useMemo)((function(){return N.map((function(e){return{address:e,tokenAmount:u.a.utils.formatUnits(S[e]||0,18)}}))}),[N,S]);if(Object(r.useEffect)((function(){f.setProviderOrSigner(o)}),[o]),Object(r.useEffect)((function(){if(n)return O.balanceOf(n,\"0\").then((function(e){e.gt(0)?(g(!0),console.log(\"\\ud83c\\udf1f this user has a membership NFT!\")):(g(!1),console.log(\"\\ud83d\\ude2d this user doesn't have a membership NFT.\"))})).catch((function(e){g(!1),console.error(\"failed to nft balance\",e)}))}),[n]),c instanceof p.a)return Object(h.jsxs)(\"div\",{className:\"unsupported-network\",children:[Object(h.jsx)(\"h2\",{children:\"Please connect to Rinkeby\"}),Object(h.jsx)(\"p\",{children:\"This dapp only works on the Rinkeby network, please switch networks in your connected wallet.\"})]});if(!n)return Object(h.jsxs)(\"div\",{className:\"landing\",children:[Object(h.jsx)(\"h1\",{children:\"Welcome to Chai Ki Tapri DAO\"}),Object(h.jsx)(\"button\",{onClick:function(){return t(\"injected\")},className:\"btn-hero\",children:\"Connect your wallet\"})]});if(v)return Object(h.jsxs)(\"div\",{className:\"member-page\",children:[Object(h.jsx)(\"h1\",{children:\"\\ud83c\\udf6aChai Ki Tapri Members Page\"}),Object(h.jsx)(\"p\",{children:\"Congratulations on being a member\"}),Object(h.jsxs)(\"div\",{children:[Object(h.jsxs)(\"div\",{children:[Object(h.jsx)(\"h2\",{children:\"Member List\"}),Object(h.jsxs)(\"table\",{className:\"card\",children:[Object(h.jsx)(\"thead\",{children:Object(h.jsxs)(\"tr\",{children:[Object(h.jsx)(\"th\",{children:\"Address\"}),Object(h.jsx)(\"th\",{children:\"Token Amount\"})]})}),Object(h.jsx)(\"tbody\",{children:Y.map((function(e){return Object(h.jsxs)(\"tr\",{children:[Object(h.jsx)(\"td\",{children:(t=e.address,t.substring(0,6)+\"...\"+t.substring(t.length-4))}),Object(h.jsx)(\"td\",{children:e.tokenAmount})]},e.address);var t}))})]})]}),Object(h.jsxs)(\"div\",{children:[Object(h.jsx)(\"h2\",{children:\"Active Proposals\"}),Object(h.jsxs)(\"form\",{onSubmit:function(){var e=Object(a.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),K(!0),r=P.map((function(e){var t={proposalId:e.proposalId,vote:2};return e.votes.forEach((function(n){document.getElementById(e.proposalId+\"-\"+n.type).checked&&(t.vote=n.type)})),t})),e.prev=4,e.next=7,m.getDelegationOf(n);case 7:if(e.sent!==u.a.constants.AddressZero){e.next=11;break}return e.next=11,m.delegateTo(n);case 11:return e.prev=11,e.next=14,Promise.all(r.map(function(){var e=Object(a.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get(t.proposalId);case 2:if(1!==e.sent.state){e.next=5;break}return e.abrupt(\"return\",x.vote(t.proposalId,t.vote));case 5:return e.abrupt(\"return\");case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:return e.prev=14,e.next=17,Promise.all(r.map(function(){var e=Object(a.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get(t.proposalId);case 2:if(4!==e.sent.state){e.next=5;break}return e.abrupt(\"return\",x.execute(t.proposalId));case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 17:U(!0),console.log(\"successfully voted\"),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(14),console.error(\"failed to execute votes\",e.t0);case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(11),console.error(\"failed to vote\",e.t1);case 29:e.next=34;break;case 31:e.prev=31,e.t2=e.catch(4),console.error(\"failed to delegate tokens\");case 34:return e.prev=34,K(!1),e.finish(34);case 37:case\"end\":return e.stop()}}),e,null,[[4,31,34,37],[11,26],[14,21]])})));return function(t){return e.apply(this,arguments)}}(),children:[P.map((function(e,t){return Object(h.jsxs)(\"div\",{className:\"card\",children:[Object(h.jsx)(\"h5\",{children:e.description}),Object(h.jsx)(\"div\",{children:e.votes.map((function(t){return Object(h.jsxs)(\"div\",{children:[Object(h.jsx)(\"input\",{type:\"radio\",id:e.proposalId+\"-\"+t.type,name:e.proposalId,value:t.type,defaultChecked:2===t.type}),Object(h.jsx)(\"label\",{htmlFor:e.proposalId+\"-\"+t.type,children:t.label})]},t.type)}))})]},e.proposalId)})),Object(h.jsx)(\"button\",{disabled:J||H,type:\"submit\",children:J?\"Voting...\":H?\"You Already Voted\":\"Submit Votes\"}),Object(h.jsx)(\"small\",{children:\"This will trigger multiple transactions that you will need to sign.\"})]})]})]})]});return Object(h.jsxs)(\"div\",{className:\"mint-nft\",children:[Object(h.jsx)(\"h1\",{children:\"Mint your free \\ud83c\\udf6aDAO Membership NFT\"}),Object(h.jsx)(\"button\",{disabled:A,onClick:function(){return w(!0),void O.claim(\"0\",1).then((function(){g(!0),console.log(\"\\ud83c\\udf0a Successfully Minted! Check it our on OpenSea: https://testnets.opensea.io/assets/\".concat(O.address.toLowerCase(),\"/0\"))})).catch((function(e){console.error(\"failed to claim\",e)})).finally((function(){w(!1)}))},children:A?\"Minting...\":\"Mint your nft (FREE)\"})]})};\"undefined\"==typeof window.ethereum&&console.log(\"MetaMask is uninstalled!\"),o.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(b.a,{connectors:{injected:{}},supportedChainIds:[4],children:Object(h.jsx)(v,{})})}),document.getElementById(\"root\"))}},[[242,2,3]]]);","name":"static/js/main.e5b2be27.chunk.js","map":{"version":3,"sources":["static/js/main.e5b2be27.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","asyncToGenerator","slicedToArray","regenerator","regenerator_default","lib_esm","_3rdweb_hooks_browser_esm","sdk_esm","core_esm","jsx_runtime","sdk","bundleDropModule","getBundleDropModule","tokenModule","getTokenModule","voteModule","getVoteModule","src_App","_useWeb","Object","connectWallet","address","error","provider","console","log","signer","getSigner","undefined","_useState","_useState2","hasClaimedNFT","setHasClaimedNFT","_useState3","_useState4","isClaiming","setIsClaiming","_useState5","_useState6","memberTokenAmounts","setMemberTokenAmounts","_useState7","_useState8","memberAddresses","setMemberAddresses","_useState9","_useState10","proposals","_useState11","_useState12","isVoting","setIsVoting","_useState13","_useState14","hasVoted","setHasVoted","getAllClaimerAddresses","then","addresses","catch","err","getAllHolderBalances","amounts","memberList","map","tokenAmount","utils","formatUnits","setProviderOrSigner","balanceOf","balance","gt","className","children","onClick","member","str","substring","length","onSubmit","_ref","a","mark","_callee3","e","votes","wrap","_context3","prev","next","preventDefault","stopPropagation","proposal","voteResult","proposalId","vote","forEach","document","getElementById","type","checked","getDelegationOf","sent","constants","AddressZero","delegateTo","Promise","all","_ref2","_callee","_context","get","state","abrupt","stop","_x2","apply","arguments","_ref3","_callee2","_context2","execute","_x3","t0","t1","t2","finish","_x","index","description","id","name","value","defaultChecked","htmlFor","label","disabled","claim","concat","toLowerCase","finally","window","ethereum","render","StrictMode","connectors","injected","supportedChainIds"],"mappings":"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"},"input":"(this[\"webpackJsonpmydao\"] = this[\"webpackJsonpmydao\"] || []).push([[1],{\n\n/***/ 162:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 168:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 216:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 242:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(140);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(162);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(85);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(59);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(4);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/ethers/lib.esm/index.js\nvar lib_esm = __webpack_require__(26);\n\n// EXTERNAL MODULE: ./node_modules/@3rdweb/hooks/dist/3rdweb-hooks.browser.esm.js + 1 modules\nvar _3rdweb_hooks_browser_esm = __webpack_require__(99);\n\n// EXTERNAL MODULE: ./node_modules/@3rdweb/sdk/dist/sdk.esm.js\nvar sdk_esm = __webpack_require__(141);\n\n// EXTERNAL MODULE: ./node_modules/@web3-react/core/dist/core.esm.js\nvar core_esm = __webpack_require__(67);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(19);\n\n// CONCATENATED MODULE: ./src/App.jsx\nvar sdk=new sdk_esm[\"a\" /* ThirdwebSDK */](\"rinkeby\");var bundleDropModule=sdk.getBundleDropModule(\"0xA147969A02B7Ab46364E8399aeb3396Ad0a6134a\");var tokenModule=sdk.getTokenModule(\"0x3418AA364aAddbFF91Ed0d74D415C4c4D2Fe6324\");var voteModule=sdk.getVoteModule(\"0x449bABD357d84a7Fe3FFe3D6182f9439BdeCbd6A\");var App_App=function App(){var _useWeb=Object(_3rdweb_hooks_browser_esm[\"b\" /* useWeb3 */])(),connectWallet=_useWeb.connectWallet,address=_useWeb.address,error=_useWeb.error,provider=_useWeb.provider;console.log(\"👋 Address:\",address);// The signer is required to sign transactions on the blockchain.\n// Without it we can only read data, not write.\nvar signer=provider?provider.getSigner():undefined;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),hasClaimedNFT=_useState2[0],setHasClaimedNFT=_useState2[1];// isClaiming lets us easily keep a loading state while the NFT is minting.\nvar _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isClaiming=_useState4[0],setIsClaiming=_useState4[1];// Holds the amount of token each member has in state.\nvar _useState5=Object(react[\"useState\"])({}),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),memberTokenAmounts=_useState6[0],setMemberTokenAmounts=_useState6[1];// The array holding all of our members addresses.\nvar _useState7=Object(react[\"useState\"])([]),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),memberAddresses=_useState8[0],setMemberAddresses=_useState8[1];var _useState9=Object(react[\"useState\"])([]),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),proposals=_useState10[0],setProposals=_useState10[1];var _useState11=Object(react[\"useState\"])(false),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),isVoting=_useState12[0],setIsVoting=_useState12[1];var _useState13=Object(react[\"useState\"])(false),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),hasVoted=_useState14[0],setHasVoted=_useState14[1];// A fancy function to shorten someones wallet address, no need to show the whole thing. \nvar shortenAddress=function shortenAddress(str){return str.substring(0,6)+\"...\"+str.substring(str.length-4);};// This useEffect grabs all the addresses of our members holding our NFT.\nObject(react[\"useEffect\"])(function(){if(!hasClaimedNFT){return;}// Just like we did in the 7-airdrop-token.js file! Grab the users who hold our NFT\n// with tokenId 0.\nbundleDropModule.getAllClaimerAddresses(\"0\").then(function(addresses){console.log(\"🚀 Members addresses\",addresses);setMemberAddresses(addresses);}).catch(function(err){console.error(\"failed to get member list\",err);});},[hasClaimedNFT]);// This useEffect grabs the # of token each member holds.\nObject(react[\"useEffect\"])(function(){if(!hasClaimedNFT){return;}// Grab all the balances.\ntokenModule.getAllHolderBalances().then(function(amounts){console.log(\"👜 Amounts\",amounts);setMemberTokenAmounts(amounts);}).catch(function(err){console.error(\"failed to get token amounts\",err);});},[hasClaimedNFT]);// Now, we combine the memberAddresses and memberTokenAmounts into a single array\nvar memberList=Object(react[\"useMemo\"])(function(){return memberAddresses.map(function(address){return{address:address,tokenAmount:lib_esm[\"a\" /* ethers */].utils.formatUnits(// If the address isn't in memberTokenAmounts, it means they don't\n// hold any of our token.\nmemberTokenAmounts[address]||0,18)};});},[memberAddresses,memberTokenAmounts]);// Another useEffect!\nObject(react[\"useEffect\"])(function(){// We pass the signer to the sdk, which enables us to interact with\n// our deployed contract!\nsdk.setProviderOrSigner(signer);},[signer]);Object(react[\"useEffect\"])(function(){if(!address){return;}return bundleDropModule.balanceOf(address,\"0\").then(function(balance){if(balance.gt(0)){setHasClaimedNFT(true);console.log(\"🌟 this user has a membership NFT!\");}else{setHasClaimedNFT(false);console.log(\"😭 this user doesn't have a membership NFT.\");}}).catch(function(error){setHasClaimedNFT(false);console.error(\"failed to nft balance\",error);});},[address]);if(error instanceof core_esm[\"a\" /* UnsupportedChainIdError */]){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"unsupported-network\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Please connect to Rinkeby\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"This dapp only works on the Rinkeby network, please switch networks in your connected wallet.\"})]});}//case 1 when metamask not connected\nif(!address){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"landing\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Welcome to Chai Ki Tapri DAO\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return connectWallet(\"injected\");},className:\"btn-hero\",children:\"Connect your wallet\"})]});}//if connected wallet, minted nft for joining dao, show membership page. Case 3, show list of all holders\nif(hasClaimedNFT){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"member-page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"\\uD83C\\uDF6AChai Ki Tapri Members Page\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Congratulations on being a member\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Member List\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"table\",{className:\"card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"thead\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Address\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Token Amount\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tbody\",{children:memberList.map(function(member){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:shortenAddress(member.address)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:member.tokenAmount})]},member.address);})})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Active Proposals\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(e){var votes,delegation;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:e.preventDefault();e.stopPropagation();//before we do async things, we want to disable the button to prevent double clicks\nsetIsVoting(true);// lets get the votes from the form for the values\nvotes=proposals.map(function(proposal){var voteResult={proposalId:proposal.proposalId,//abstain by default\nvote:2};proposal.votes.forEach(function(vote){var elem=document.getElementById(proposal.proposalId+\"-\"+vote.type);if(elem.checked){voteResult.vote=vote.type;return;}});return voteResult;});// first we need to make sure the user delegates their token to vote\n_context3.prev=4;_context3.next=7;return tokenModule.getDelegationOf(address);case 7:delegation=_context3.sent;if(!(delegation===lib_esm[\"a\" /* ethers */].constants.AddressZero)){_context3.next=11;break;}_context3.next=11;return tokenModule.delegateTo(address);case 11:_context3.prev=11;_context3.next=14;return Promise.all(votes.map(/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(vote){var proposal;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return voteModule.get(vote.proposalId);case 2:proposal=_context.sent;if(!(proposal.state===1)){_context.next=5;break;}return _context.abrupt(\"return\",voteModule.vote(vote.proposalId,vote.vote));case 5:return _context.abrupt(\"return\");case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x2){return _ref2.apply(this,arguments);};}()));case 14:_context3.prev=14;_context3.next=17;return Promise.all(votes.map(/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(vote){var proposal;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return voteModule.get(vote.proposalId);case 2:proposal=_context2.sent;if(!(proposal.state===4)){_context2.next=5;break;}return _context2.abrupt(\"return\",voteModule.execute(vote.proposalId));case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x3){return _ref3.apply(this,arguments);};}()));case 17:// if we get here that means we successfully voted, so let's set the \"hasVoted\" state to true\nsetHasVoted(true);// and log out a success message\nconsole.log(\"successfully voted\");_context3.next=24;break;case 21:_context3.prev=21;_context3.t0=_context3[\"catch\"](14);console.error(\"failed to execute votes\",_context3.t0);case 24:_context3.next=29;break;case 26:_context3.prev=26;_context3.t1=_context3[\"catch\"](11);console.error(\"failed to vote\",_context3.t1);case 29:_context3.next=34;break;case 31:_context3.prev=31;_context3.t2=_context3[\"catch\"](4);console.error(\"failed to delegate tokens\");case 34:_context3.prev=34;// in *either* case we need to set the isVoting state to false to enable the button again\nsetIsVoting(false);return _context3.finish(34);case 37:case\"end\":return _context3.stop();}}},_callee3,null,[[4,31,34,37],[11,26],[14,21]]);}));return function(_x){return _ref.apply(this,arguments);};}(),children:[proposals.map(function(proposal,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{children:proposal.description}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:proposal.votes.map(function(vote){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"radio\",id:proposal.proposalId+\"-\"+vote.type,name:proposal.proposalId,value:vote.type//default the \"abstain\" vote to chedked\n,defaultChecked:vote.type===2}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:proposal.proposalId+\"-\"+vote.type,children:vote.label})]},vote.type);})})]},proposal.proposalId);}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{disabled:isVoting||hasVoted,type:\"submit\",children:isVoting?\"Voting...\":hasVoted?\"You Already Voted\":\"Submit Votes\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"small\",{children:\"This will trigger multiple transactions that you will need to sign.\"})]})]})]})]});};//if not claimed then claim using mintNft\nvar mintNft=function mintNft(){setIsClaiming(true);// Call bundleDropModule.claim(\"0\", 1) to mint nft to user's wallet.\nbundleDropModule.claim(\"0\",1).then(function(){// Set claim state.\nsetHasClaimedNFT(true);// Show user their fancy new NFT!\nconsole.log(\"\\uD83C\\uDF0A Successfully Minted! Check it our on OpenSea: https://testnets.opensea.io/assets/\".concat(bundleDropModule.address.toLowerCase(),\"/0\"));}).catch(function(err){console.error(\"failed to claim\",err);}).finally(function(){// Stop loading state.\nsetIsClaiming(false);});};// Render mint nft screen.\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"mint-nft\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Mint your free \\uD83C\\uDF6ADAO Membership NFT\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{disabled:isClaiming,onClick:function onClick(){return mintNft();},children:isClaiming?\"Minting...\":\"Mint your nft (FREE)\"})]});};/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\n//Import ThirdWeb\n// Include what chains you wanna support.\n// 4 = Rinkeby.\nvar supportedChainIds=[4];// Include what type of wallet you want to support.\n// In this case, we support Metamask which is an \"injected wallet\".\nvar connectors={injected:{}};if(typeof window.ethereum=='undefined'){console.log('MetaMask is uninstalled!');}// Render the App component to the DOM\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(_3rdweb_hooks_browser_esm[\"a\" /* ThirdwebWeb3Provider */],{connectors:connectors,supportedChainIds:supportedChainIds,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})})}),document.getElementById(\"root\"));\n\n/***/ })\n\n},[[242,2,3]]]);","inputSourceMap":{"version":3,"sources":["/home/ellika/Web3/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/ellika/Web3/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/ellika/Web3/node_modules/postcss-loader/src/index.js??postcss!/home/ellika/Web3/src/index.css","ignored /home/ellika/Web3/node_modules/bn.js/lib buffer","ignored /home/ellika/Web3/node_modules/crypto-js crypto","/home/ellika/Web3/src/App.jsx","/home/ellika/Web3/src/index.js"],"names":["sdk","ThirdwebSDK","bundleDropModule","getBundleDropModule","tokenModule","getTokenModule","voteModule","getVoteModule","App","useWeb3","connectWallet","address","error","provider","console","log","signer","getSigner","undefined","useState","hasClaimedNFT","setHasClaimedNFT","isClaiming","setIsClaiming","memberTokenAmounts","setMemberTokenAmounts","memberAddresses","setMemberAddresses","proposals","setProposals","isVoting","setIsVoting","hasVoted","setHasVoted","shortenAddress","str","substring","length","useEffect","getAllClaimerAddresses","then","addresses","catch","err","getAllHolderBalances","amounts","memberList","useMemo","map","tokenAmount","ethers","utils","formatUnits","setProviderOrSigner","balanceOf","balance","gt","UnsupportedChainIdError","member","e","preventDefault","stopPropagation","votes","proposal","voteResult","proposalId","vote","forEach","elem","document","getElementById","type","checked","getDelegationOf","delegation","constants","AddressZero","delegateTo","Promise","all","get","state","execute","index","description","label","mintNft","claim","toLowerCase","finally","supportedChainIds","connectors","injected","window","ethereum","ReactDOM","render"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","/* (ignored) */","/* (ignored) */","import { useEffect, useMemo, useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport { useWeb3 } from \"@3rdweb/hooks\";\nimport { ThirdwebSDK } from \"@3rdweb/sdk\";\n\nimport { UnsupportedChainIdError } from \"@web3-react/core\";\n\n\nconst sdk = new ThirdwebSDK(\"rinkeby\");\n\nconst bundleDropModule = sdk.getBundleDropModule(\n  \"0xA147969A02B7Ab46364E8399aeb3396Ad0a6134a\",\n);\n\nconst tokenModule = sdk.getTokenModule(\n  \"0x3418AA364aAddbFF91Ed0d74D415C4c4D2Fe6324\"\n);\n\nconst voteModule = sdk.getVoteModule(\n  \"0x449bABD357d84a7Fe3FFe3D6182f9439BdeCbd6A\",\n);\nconst App = () => {\n  const { connectWallet, address, error, provider } = useWeb3();\n  console.log(\"👋 Address:\", address)\n\n  // The signer is required to sign transactions on the blockchain.\n  // Without it we can only read data, not write.\n  const signer = provider ? provider.getSigner() : undefined;\n\n  const [hasClaimedNFT, setHasClaimedNFT] = useState(false);\n  // isClaiming lets us easily keep a loading state while the NFT is minting.\n  const [isClaiming, setIsClaiming] = useState(false);\n  // Holds the amount of token each member has in state.\nconst [memberTokenAmounts, setMemberTokenAmounts] = useState({});\n// The array holding all of our members addresses.\nconst [memberAddresses, setMemberAddresses] = useState([]);\nconst [proposals, setProposals] = useState([]);\nconst [isVoting, setIsVoting] = useState(false);\nconst [hasVoted, setHasVoted] = useState(false);\n\n// A fancy function to shorten someones wallet address, no need to show the whole thing. \nconst shortenAddress = (str) => {\n  return str.substring(0, 6) + \"...\" + str.substring(str.length - 4);\n};\n\n// This useEffect grabs all the addresses of our members holding our NFT.\nuseEffect(() => {\n  if (!hasClaimedNFT) {\n    return;\n  }\n  \n  // Just like we did in the 7-airdrop-token.js file! Grab the users who hold our NFT\n  // with tokenId 0.\n  bundleDropModule\n    .getAllClaimerAddresses(\"0\")\n    .then((addresses) => {\n      console.log(\"🚀 Members addresses\", addresses)\n      setMemberAddresses(addresses);\n    })\n    .catch((err) => {\n      console.error(\"failed to get member list\", err);\n    });\n}, [hasClaimedNFT]);\n\n// This useEffect grabs the # of token each member holds.\nuseEffect(() => {\n  if (!hasClaimedNFT) {\n    return;\n  }\n\n  // Grab all the balances.\n  tokenModule\n    .getAllHolderBalances()\n    .then((amounts) => {\n      console.log(\"👜 Amounts\", amounts)\n      setMemberTokenAmounts(amounts);\n    })\n    .catch((err) => {\n      console.error(\"failed to get token amounts\", err);\n    });\n}, [hasClaimedNFT]);\n\n// Now, we combine the memberAddresses and memberTokenAmounts into a single array\nconst memberList = useMemo(() => {\n  return memberAddresses.map((address) => {\n    return {\n      address,\n      tokenAmount: ethers.utils.formatUnits(\n        // If the address isn't in memberTokenAmounts, it means they don't\n        // hold any of our token.\n        memberTokenAmounts[address] || 0,\n        18,\n      ),\n    };\n  });\n}, [memberAddresses, memberTokenAmounts]);\n  // Another useEffect!\n  useEffect(() => {\n    // We pass the signer to the sdk, which enables us to interact with\n    // our deployed contract!\n    sdk.setProviderOrSigner(signer);\n  }, [signer]);\n\n  useEffect(() => {\n    if (!address) {\n      return;\n    }\n    return bundleDropModule\n      .balanceOf(address, \"0\")\n      .then((balance) => {\n        if (balance.gt(0)) {\n          setHasClaimedNFT(true);\n          console.log(\"🌟 this user has a membership NFT!\")\n        } else {\n          setHasClaimedNFT(false);\n          console.log(\"😭 this user doesn't have a membership NFT.\")\n        }\n      })\n      .catch((error) => {\n        setHasClaimedNFT(false);\n        console.error(\"failed to nft balance\", error);\n      });\n  }, [address]);\n  if (error instanceof UnsupportedChainIdError ) {\n    return (\n      <div className=\"unsupported-network\">\n        <h2>Please connect to Rinkeby</h2>\n        <p>\n          This dapp only works on the Rinkeby network, please switch networks\n          in your connected wallet.\n        </p>\n      </div>\n    );\n  }\n//case 1 when metamask not connected\n  if (!address) {\n    return (\n      <div className=\"landing\">\n        <h1>Welcome to Chai Ki Tapri DAO</h1>\n        <button onClick={() => connectWallet(\"injected\")} className=\"btn-hero\">\n          Connect your wallet\n        </button>\n      </div>\n    );\n  }\n  //if connected wallet, minted nft for joining dao, show membership page. Case 3, show list of all holders\n  if (hasClaimedNFT) {\n    return (\n      <div className=\"member-page\">\n        <h1>🍪Chai Ki Tapri Members Page</h1>\n        <p>Congratulations on being a member</p>\n        <div>\n          <div>\n            <h2>Member List</h2>\n            <table className=\"card\">\n              <thead>\n                <tr>\n                  <th>Address</th>\n                  <th>Token Amount</th>\n                </tr>\n              </thead>\n              <tbody>\n                {memberList.map((member) => {\n                  return (\n                    <tr key={member.address}>\n                      <td>{shortenAddress(member.address)}</td>\n                      <td>{member.tokenAmount}</td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n          </div>\n          <div>\n            <h2>Active Proposals</h2>\n            <form\n              onSubmit={async (e) => {\n                e.preventDefault();\n                e.stopPropagation();\n\n                //before we do async things, we want to disable the button to prevent double clicks\n                setIsVoting(true);\n\n                // lets get the votes from the form for the values\n                const votes = proposals.map((proposal) => {\n                  let voteResult = {\n                    proposalId: proposal.proposalId,\n                    //abstain by default\n                    vote: 2,\n                  };\n                  proposal.votes.forEach((vote) => {\n                    const elem = document.getElementById(\n                      proposal.proposalId + \"-\" + vote.type\n                    );\n\n                    if (elem.checked) {\n                      voteResult.vote = vote.type;\n                      return;\n                    }\n                  });\n                  return voteResult;\n                });\n\n                // first we need to make sure the user delegates their token to vote\n                try {\n                  //we'll check if the wallet still needs to delegate their tokens before they can vote\n                  const delegation = await tokenModule.getDelegationOf(address);\n                  // if the delegation is the 0x0 address that means they have not delegated their governance tokens yet\n                  if (delegation === ethers.constants.AddressZero) {\n                    //if they haven't delegated their tokens yet, we'll have them delegate them before voting\n                    await tokenModule.delegateTo(address);\n                  }\n                  // then we need to vote on the proposals\n                  try {\n                    await Promise.all(\n                      votes.map(async (vote) => {\n                        // before voting we first need to check whether the proposal is open for voting\n                        // we first need to get the latest state of the proposal\n                        const proposal = await voteModule.get(vote.proposalId);\n                        // then we check if the proposal is open for voting (state === 1 means it is open)\n                        if (proposal.state === 1) {\n                          // if it is open for voting, we'll vote on it\n                          return voteModule.vote(vote.proposalId, vote.vote);\n                        }\n                        // if the proposal is not open for voting we just return nothing, letting us continue\n                        return;\n                      })\n                    );\n                    try {\n                      // if any of the propsals are ready to be executed we'll need to execute them\n                      // a proposal is ready to be executed if it is in state 4\n                      await Promise.all(\n                        votes.map(async (vote) => {\n                          // we'll first get the latest state of the proposal again, since we may have just voted before\n                          const proposal = await voteModule.get(\n                            vote.proposalId\n                          );\n\n                          //if the state is in state 4 (meaning that it is ready to be executed), we'll execute the proposal\n                          if (proposal.state === 4) {\n                            return voteModule.execute(vote.proposalId);\n                          }\n                        })\n                      );\n                      // if we get here that means we successfully voted, so let's set the \"hasVoted\" state to true\n                      setHasVoted(true);\n                      // and log out a success message\n                      console.log(\"successfully voted\");\n                    } catch (err) {\n                      console.error(\"failed to execute votes\", err);\n                    }\n                  } catch (err) {\n                    console.error(\"failed to vote\", err);\n                  }\n                } catch (err) {\n                  console.error(\"failed to delegate tokens\");\n                } finally {\n                  // in *either* case we need to set the isVoting state to false to enable the button again\n                  setIsVoting(false);\n                }\n              }}\n            >\n              {proposals.map((proposal, index) => (\n                <div key={proposal.proposalId} className=\"card\">\n                  <h5>{proposal.description}</h5>\n                  <div>\n                    {proposal.votes.map((vote) => (\n                      <div key={vote.type}>\n                        <input\n                          type=\"radio\"\n                          id={proposal.proposalId + \"-\" + vote.type}\n                          name={proposal.proposalId}\n                          value={vote.type}\n                          //default the \"abstain\" vote to chedked\n                          defaultChecked={vote.type === 2}\n                        />\n                        <label htmlFor={proposal.proposalId + \"-\" + vote.type}>\n                          {vote.label}\n                        </label>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              ))}\n              <button disabled={isVoting || hasVoted} type=\"submit\">\n                {isVoting\n                  ? \"Voting...\"\n                  : hasVoted\n                    ? \"You Already Voted\"\n                    : \"Submit Votes\"}\n              </button>\n              <small>\n                This will trigger multiple transactions that you will need to\n                sign.\n              </small>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  };\n//if not claimed then claim using mintNft\n  const mintNft = () => {\n    setIsClaiming(true);\n    // Call bundleDropModule.claim(\"0\", 1) to mint nft to user's wallet.\n    bundleDropModule\n    .claim(\"0\", 1)\n    .then(() => {\n      // Set claim state.\n      setHasClaimedNFT(true);\n      // Show user their fancy new NFT!\n      console.log(\n        `🌊 Successfully Minted! Check it our on OpenSea: https://testnets.opensea.io/assets/${bundleDropModule.address.toLowerCase()}/0`\n      );\n    })\n    .catch((err) => {\n      console.error(\"failed to claim\", err);\n    })\n    .finally(() => {\n      // Stop loading state.\n      setIsClaiming(false);\n    });\n  }\n\n  // Render mint nft screen.\n  return (\n    <div className=\"mint-nft\">\n      <h1>Mint your free 🍪DAO Membership NFT</h1>\n      <button\n        disabled={isClaiming}\n        onClick={() => mintNft()}\n      >\n        {isClaiming ? \"Minting...\" : \"Mint your nft (FREE)\"}\n      </button>\n    </div>\n  );\n};\n\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App.jsx\";\n\n//Import ThirdWeb\nimport { ThirdwebWeb3Provider } from '@3rdweb/hooks';\n\n\n// Include what chains you wanna support.\n// 4 = Rinkeby.\nconst supportedChainIds = [4];\n\n// Include what type of wallet you want to support.\n// In this case, we support Metamask which is an \"injected wallet\".\nconst connectors = {\n  injected: {},\n};\n\nif (typeof window.ethereum == 'undefined') {\n  console.log('MetaMask is uninstalled!');\n}\n// Render the App component to the DOM\nReactDOM.render(\n  <React.StrictMode>\n    <ThirdwebWeb3Provider\n    connectors={connectors}\n    supportedChainIds={supportedChainIds}\n    >\n    <App />\n    </ThirdwebWeb3Provider>\n    \n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"]}}